<!DOCTYPE html>
<html>
<head>
    <title>Simple Auth Test</title>
</head>
<body>
    <h1>Simple Authentication Test</h1>
    <button onclick="testAuth()">Test Authentication</button>
    <div id="result"></div>

    <script>
        async function testAuth() {
            try {
                console.log('üöÄ Testing authentication...');
                
                // Test if we can reach the identity provider
                const identityUrl = 'https://identity.ic0.app';
                console.log('üîç Testing identity provider:', identityUrl);
                
                const response = await fetch(identityUrl, {
                    method: 'HEAD',
                    mode: 'no-cors'
                });
                
                console.log('‚úÖ Identity provider reachable');
                
                // Test if we can reach the canister
                const canisterUrl = 'https://q4oqk-hyaaa-aaaam-qd4la-cai.ic0.app';
                console.log('üîç Testing canister:', canisterUrl);
                
                const canisterResponse = await fetch(canisterUrl, {
                    method: 'HEAD',
                    mode: 'no-cors'
                });
                
                console.log('‚úÖ Canister reachable');
                
                document.getElementById('result').innerHTML = `
                    <h2>‚úÖ SUCCESS!</h2>
                    <p>Network connectivity test passed:</p>
                    <ul>
                        <li>‚úÖ Identity provider: Reachable</li>
                        <li>‚úÖ Canister: Reachable</li>
                        <li>‚úÖ Browser: ${navigator.userAgent}</li>
                    </ul>
                    <p><strong>Conclusion:</strong> Network connectivity is working. The authentication issue is likely in the browser or popup handling.</p>
                `;
                
            } catch (error) {
                console.error('‚ùå Network test failed:', error);
                document.getElementById('result').innerHTML = `
                    <h2>‚ùå FAILED</h2>
                    <p>Network connectivity test failed:</p>
                    <p><strong>Error:</strong> ${error.message}</p>
                    <p><strong>Browser:</strong> ${navigator.userAgent}</p>
                `;
            }
        }
    </script>
</body>
</html>

